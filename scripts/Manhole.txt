//----- Green flag events ---------------------------------------------------------------------------------------------

WhenGreenFlagClicked()
{
    Pen.Clear();
    Graphics drawn? = False;
    Countdown = 94000;
    Event.BroadcastAndWait("clear data");
    Debug? = False;
    Log? = False;
    Event.BroadcastAndWait("initialise cursor");
    Event.BroadcastAndWait("initialise graphics queue");
    Event.BroadcastAndWait("initialise sfx");
    Event.BroadcastAndWait("initialise notes");
    Event.BroadcastAndWait("MadeEngine::MadeEngine");
    Variable.Show(Countdown);
    Event.Broadcast("MadeEngine::run");
    Wait Until (Not ((Countdown > 0)));
    Repeat (10)
    {
        Looks.ChangeEffectBy(GHOST, 10);
    }
    Variable.Hide(Countdown);
}


//----- Broadcast received events -------------------------------------------------------------------------------------

WhenBroadcastReceived(clear data)
{
    Debug? = False;
    Log? = False;
    False = 0;
    True = 1;
    List.DeleteAll(_dat);
    List.DeleteAll(_gameState);
    List.DeleteAll(argv);
    List.DeleteAll(DEBUG);
    List.DeleteAll(Gfx.queue);
    List.DeleteAll(LOG);
    List.DeleteAll(ObjectV2::_objData);
    List.DeleteAll(ObjectV2::_objSize);
    List.DeleteAll(ObjectV2::objDataOffset);
    List.DeleteAll(ScriptFuncs::_externalFuncs);
    List.Hide(LOG);
    List.Hide(DEBUG);
}

WhenBroadcastReceived(thumbnail)
{
    Pen.Clear();
    Event.BroadcastAndWait("clear data");
    Looks.SwitchBackdropTo(blank);
    Variable.Hide(Countdown);
}


//----- Orphaned blocks -----------------------------------------------------------------------------------------------

Event.BroadcastAndWait("thumbnail")


//----- Costumes ------------------------------------------------------------------------------------------------------

download.png


//----- Sounds --------------------------------------------------------------------------------------------------------

pop.wav
